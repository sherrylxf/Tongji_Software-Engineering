# 小型宾馆管理信息系统 - 用例分析文档

## 一、系统概述

小型宾馆管理信息系统包含以下四个主要功能模块：

1. **客房信息管理功能** - 管理客房编号、名称、类型、楼层、朝向、窗、面积、禁烟、订单状态、健康状态、业务状态、单价、折扣、简介等信息
2. **客房设备管理功能** - 管理客房设备清单、家具清单、房间设施及其状态和维修价格信息
3. **客房预订管理功能** - 管理订房人注册信息、订单编号、订单产生日期、预订入住日期、预定天数、客房类型、客房单价、保证金、订单状态等信息
4. **客房业务管理功能** - 管理订单编号、订单产生日期、预订入住日期、预定天数、客房编号、旅客入住日期、旅客退房日期、保证金、实际住宿费用、旅客信息等信息

## 二、参与者（Actor）

### 2.1 主要参与者
1. **订房人** - 通过网页或前台预订客房的用户
2. **旅客** - 实际入住宾馆的客人
3. **前台服务员** - 处理预订、入住、退房等前台业务的工作人员
4. **客房服务员** - 负责客房清洁、维护的工作人员
5. **宾馆经理** - 管理宾馆整体运营的管理人员
6. **系统管理员** - 负责系统维护和配置的技术人员

## 三、用例列表

### 3.1 订房人相关用例

#### UC-001 浏览宾馆信息
- **参与者**: 订房人
- **前置条件**: 无
- **主流程**: 
  1. 订房人访问系统网页
  2. 系统显示宾馆基本信息
  3. 订房人查看客房业务状态（空闲、占用）
  4. 订房人查看客房类型、价格等信息
- **后置条件**: 订房人了解宾馆客房情况

#### UC-002 注册账户
- **参与者**: 订房人
- **前置条件**: 无
- **主流程**:
  1. 订房人选择注册功能
  2. 填写注册信息（用户名、密码、联系方式等）
  3. 系统验证信息有效性
  4. 系统发送验证信息
  5. 订房人完成验证
  6. 系统创建账户
- **后置条件**: 订房人账户创建成功

#### UC-003 登录系统
- **参与者**: 订房人
- **前置条件**: 订房人已注册账户
- **主流程**:
  1. 订房人输入用户名和密码
  2. 系统验证用户身份
  3. 系统允许访问预订功能
- **后置条件**: 订房人成功登录系统

#### UC-004 预订客房
- **参与者**: 订房人、前台服务员
- **前置条件**: 
  - 订房人通过网页预订：订房人已登录系统
  - 前台服务员代为预订：前台服务员已登录系统
- **主流程**:
  1. 订房人选择预订功能（网页）或到前台由前台服务员代为预订
  2. 选择客房类型、入住日期、预定天数
  3. 系统显示客房单价和保证金
  4. 订房人填写订单信息并支付保证金（或前台服务员代为操作）
  5. 系统生成订单编号
  6. 系统更新客房订单状态为"已预订"
- **后置条件**: 订单创建成功，客房状态更新

#### UC-005 更改预订信息
- **参与者**: 订房人、前台服务员
- **前置条件**: 订单已创建且未入住
- **主流程**:
  1. 订房人选择更改预订功能（网页或前台）
  2. 输入订单编号
  3. 系统显示当前预订信息
  4. 订房人修改入住日期或客房类型
  5. 系统验证新信息的可用性
  6. 系统更新订单信息
  7. 系统更新客房状态
- **后置条件**: 预订信息更新成功

#### UC-006 取消预订
- **参与者**: 订房人、前台服务员
- **前置条件**: 订单已创建且未入住
- **主流程**:
  1. 订房人选择取消预订功能（网页或前台）
  2. 输入订单编号
  3. 系统显示订单信息
  4. 订房人确认取消
  5. 系统更新订单状态为"已退订"
  6. 系统更新客房订单状态为"未预订"
  7. 系统记录退款信息（3个工作日内退还保证金）
- **后置条件**: 订单取消成功，客房释放

### 3.2 旅客相关用例

#### UC-007 办理入住登记
- **参与者**: 旅客、前台服务员
- **前置条件**: 订单已创建（成功状态）
- **主流程**:
  1. 旅客到达前台
  2. 前台服务员查询订单信息
  3. 前台服务员输入订单编号
  4. 系统显示订单详情
  5. 前台服务员记录旅客信息（姓名、身份证号码、性别、旅客属性、银行卡号码、开票单位及机构码）
  6. 前台服务员分配客房编号
  7. 系统记录旅客入住日期
  8. 系统计算预估住宿费用
  9. 系统更新订单状态（正常、逾期、撤销）
  10. 系统更新客房业务状态为"占用"
- **后置条件**: 入住登记完成，客房状态更新

#### UC-008 办理退房结账
- **参与者**: 旅客、前台服务员
- **前置条件**: 旅客已办理入住
- **主流程**:
  1. 旅客到前台办理退房
  2. 前台服务员输入订单编号或客房编号
  3. 系统显示订单信息和入住记录
  4. 前台服务员记录旅客退房日期
  5. 系统计算实际住宿费用（考虑客房单价、旅客属性折扣）
  6. 系统比较保证金和实际住宿费用
  7. 系统执行"多退少补"结算
  8. 系统更新客房业务状态为"空闲"
  9. 系统更新客房健康状态为"正常但未打扫"
- **后置条件**: 退房结账完成，费用结算完成

### 3.3 前台服务员相关用例

#### UC-009 查询客房状况
- **参与者**: 前台服务员
- **前置条件**: 前台服务员已登录系统
- **主流程**:
  1. 前台服务员选择查询客房状况功能
  2. 系统显示所有客房的订单状态、健康状态、业务状态
  3. 前台服务员可按条件筛选查询
- **后置条件**: 前台服务员了解客房状况

#### UC-010 查询订单信息
- **参与者**: 订房人、前台服务员
- **前置条件**: 
  - 订房人：已登录系统
  - 前台服务员：已登录系统
- **主流程**:
  1. 用户输入订单编号或订房人信息
  2. 系统显示订单详细信息
  3. 用户查看订单状态、预订信息等
- **后置条件**: 订单信息显示完成

#### UC-011 客房损坏报修
- **参与者**: 前台服务员
- **前置条件**: 发现客房损坏
- **主流程**:
  1. 前台服务员选择报修功能
  2. 输入客房编号
  3. 选择损坏的设备/家具/设施
  4. 输入损坏描述
  5. 系统更新客房健康状态为"损坏且待修理"
  6. 系统记录维修起始日期
- **后置条件**: 报修记录创建，客房状态更新

### 3.4 客房服务员相关用例

#### UC-012 更新客房健康状态
- **参与者**: 客房服务员
- **前置条件**: 客房服务员已登录系统
- **主流程**:
  1. 客房服务员选择更新客房状态功能
  2. 输入客房编号
  3. 选择操作类型：
     - 完成打扫：更新状态为"正常且已打扫"
     - 发现损坏：更新状态为"损坏且待修理"，记录维修起始日期
     - 完成修理：更新状态为"已修理但未验收"，记录维修结束日期
     - 完成验收：更新状态为"正常且已打扫"，记录验收日期
  4. 系统更新客房健康状态
- **后置条件**: 客房健康状态更新成功

### 3.5 宾馆经理相关用例

#### UC-013 管理客房信息
- **参与者**: 宾馆经理
- **前置条件**: 宾馆经理已登录系统
- **主流程**:
  1. 宾馆经理选择客房信息管理功能
  2. 可以添加、修改、删除客房信息
  3. 设置客房编号、名称、类型、楼层、朝向、窗、面积、禁烟、单价、折扣、简介等
  4. 系统保存客房信息
- **后置条件**: 客房信息更新成功

#### UC-014 管理客房设备
- **参与者**: 宾馆经理
- **前置条件**: 宾馆经理已登录系统
- **主流程**:
  1. 宾馆经理选择设备管理功能
  2. 输入客房编号
  3. 管理设备清单（空调、电视、洗浴设备等）及其状态和维修价格
  4. 管理家具清单（床、柜、桌、椅等）及其状态和维修价格
  5. 管理房间设施（水、暖、电、墙、门、窗等）及其状态和维修价格
  6. 系统保存设备信息
- **后置条件**: 客房设备信息更新成功

#### UC-015 查看业务报表
- **参与者**: 宾馆经理
- **前置条件**: 宾馆经理已登录系统
- **主流程**:
  1. 宾馆经理选择报表功能
  2. 选择报表类型（预订统计、入住统计、收入统计等）
  3. 选择时间范围
  4. 系统生成并显示报表
- **后置条件**: 报表显示完成

### 3.6 系统管理员相关用例

#### UC-016 管理用户账户
- **参与者**: 系统管理员
- **前置条件**: 系统管理员已登录系统
- **主流程**:
  1. 系统管理员选择用户管理功能
  2. 可以创建、修改、删除用户账户
  3. 设置用户角色和权限
  4. 系统保存用户信息
- **后置条件**: 用户账户管理完成

#### UC-017 系统配置
- **参与者**: 系统管理员
- **前置条件**: 系统管理员已登录系统
- **主流程**:
  1. 系统管理员选择系统配置功能
  2. 配置系统参数（如退款期限、折扣规则等）
  3. 系统保存配置信息
- **后置条件**: 系统配置更新成功

## 四、用例关系

### 4.1 包含关系（Include）
- UC-004 预订客房（仅在线预订方式）<<include>> UC-003 登录系统
  - 注意：前台服务员代为预订时不需要登录系统，因为前台服务员本身已有系统账户
- UC-005 更改预订信息 <<include>> UC-010 查询订单信息
- UC-006 取消预订 <<include>> UC-010 查询订单信息
- UC-007 办理入住登记 <<include>> UC-010 查询订单信息
- UC-008 办理退房结账 <<include>> UC-010 查询订单信息

### 4.2 扩展关系（Extend）
- UC-011 客房损坏报修 <<extend>> UC-009 查询客房状况

### 4.3 泛化关系（Generalization）
- UC-005 更改预订信息 和 UC-006 取消预订 可以泛化为"订单管理"

## 五、非功能性需求

1. **性能要求**: 系统响应时间应在3秒以内
2. **安全性要求**: 用户密码加密存储，敏感信息传输加密
3. **可用性要求**: 系统可用性达到99%以上
4. **易用性要求**: 界面友好，操作简单直观

